@model Inventory_and_Asset_Management_2._0.Models.CAMTUserModel
@using Inventory_and_Asset_Management_2._0.Models;
@{
    ViewBag.Title = "AdministratorInfor";
}

@{
    if (Session["userType"] != null && Session["userType"].ToString().Equals("1"))
    {
        Layout = "~/Views/Shared/_AdminInfoLayout.cshtml";
         
        <!DOCTYPE html>
<html lang="en">
  <head>
    <title>IT Equipment Management System</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <link rel="stylesheet" href="~/Content/bootstrap/css/bootstrap.min.css">
      <link rel="stylesheet" href="~/Content/bootstrap/css/bootstrap-theme.css">
      <link rel="stylesheet" href="~/Content/jquery-ui/jquery-ui.css">
      <link rel="stylesheet" href="~/Content/css/mycss.css">

      <script type="text/javascript" src="~/Content/js/jquery-2.1.1.min.js"></script>
      <script type="text/javascript" src="~/Content/js/responsiveslides.min.js"></script>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/html5.js"></script>
    <link rel="stylesheet" href="css/ie.css" type="text/css" media="screen">
    <![endif]-->


  </head>
  <body>

  <div class="wrapper">
      <div class="content">
      <!-- ///////////////////////////////////////////////////////////////////////////////////////// -->

      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12">

            <div class="panel panel-warning">
              <div class="panel-heading">
                <h4>Admin Information</h4>
              </div>
              <div class="panel-body">

                  <form class="form-horizontal" role="form" action="~/Home/editAdminInfo" method="post" onsubmit="return onEditInfor();">
                      @Html.Hidden("userId", @Model.user_id)
                      @Html.Hidden("userType", @Model.user_type)
                      @Html.Hidden("password", @Model.user_password)
                      @Html.Hidden("username", @Model.user_username)
                      <div class="form-group">
                          <label class="control-label col-sm-3">Username:</label>
                          <div class="col-sm-9">
                              <input type="text" class="form-control" id="username" name="username" placeholder="Username" disabled="diabled" value="@Model.user_username">
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-3">Name:</label>
                          <div class="col-sm-9">
                              <input type="text" class="form-control" id="name" name="name" placeholder="Name" value="@Model.user_name">
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-3">Department:</label>
                          <div class="col-sm-9">
                              <input type="text" class="form-control" id="department" name="department" placeholder="Name" value="@Model.user_department">
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-3">Room:</label>
                          <div class="col-sm-9">
                              <input type="text" class="form-control" id="room" name="room" placeholder="Room" value="@Model.user_room">
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-3">Address:</label>
                          <div class="col-sm-9">
                              <textarea class="form-control" id="address" name="address" placeholder="Address">@Model.user_address</textarea>
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-3">Phone:</label>
                          <div class="col-sm-9">
                              <input type="text" class="form-control" id="tel" name="tel" placeholder="Phone" value="@Model.user_tel">
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-3">Email:</label>
                          <div class="col-sm-9">
                              <input type="text" class="form-control" id="email" name="email" placeholder="Email" value="@Model.user_email">
                          </div>
                      </div>
                      <div class="form-group">
                          <div class="col-sm-offset-3 col-sm-9">
                              <button type="submit" class="btn btn-default">Update Information</button>
                          </div>
                      </div>
                      @Html.Hidden("userActive", 1)
                  </form>
                  <!-- script check format information-->
                  <script>
                      function onEditInfor() {
                          var result = confirm("Do you sure for edit information ?");
                          if (result == true) {

                              var username = document.getElementById("username").value;
                              var password = document.getElementById("password").value;
                              var name = document.getElementById("name").value;
                              var department = document.getElementById("department").value;
                              var room = document.getElementById("room").value;
                              var address = document.getElementById("address").value;
                              var tel = document.getElementById("tel").value;
                              var email = document.getElementById("email").value;


                              if (name == "") {
                                  alert("Please you fill name");
                                  return false;
                              }
                              if (department == "") {
                                  alert("Please you fill department");
                                  return false;
                              }
                              if (room == "") {
                                  alert("Please you fill room");
                                  return false;
                              }
                              if (address == "") {
                                  alert("Please you fill address");
                                  return false;
                              }
                              if (tel == "") {
                                  alert("Please you fill telephone number");
                                  return false;
                              }
                              if (email == "") {
                                  alert("Please you fill email");
                                  return false;
                              }
                          }
                          else {
                              return false
                          }
                      }
                  </script>
                  <!-- script check format information end-->
              </div>
            </div>

            <!-- change password -->

            <div class="panel panel-warning">
              <div class="panel-heading">
                <h4>Change Password</h4>
              </div>
              <div class="panel-body">

                  <form class="form-horizontal" role="form" action="~/Home/editAdminPass" method="post" onsubmit="return onEditPassword();">
                      @Html.Hidden("userId", @Model.user_id)
                      @Html.Hidden("password", @Model.user_password)

                      <div class="form-group">
                          <label class="control-label col-sm-3">Old Password:</label>
                          <div class="col-sm-9">
                              <input type="password" class="form-control" id="oldPassword" name="oldPassword" placeholder="Old Password">
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-3">New Password:</label>
                          <div class="col-sm-9">
                              <input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="New Password">
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-3">Confirm Password:</label>
                          <div class="col-sm-9">
                              <input type="password" class="form-control" id="comfirmPassword" name="comfirmPassword" placeholder="Confirm Password">
                          </div>
                      </div>
                      <div class="form-group">
                          <div class="col-sm-offset-3 col-sm-9">
                              <button type="submit" class="btn btn-default">Change Password</button>
                          </div>
                      </div>
                  </form>
                  <!-- check format password information-->
                  <script>
                      function onEditPassword() {
                          var result = confirm("Do you sure for edit password ?");
                          if (result == true) {

                              var oldPassword = document.getElementById("oldPassword").value;
                              var newPassword = document.getElementById("newPassword").value;
                              var comfirmPassword = document.getElementById("comfirmPassword").value;

                              if (oldPassword == "") {
                                  alert("Please you fill old password");
                                  return false;
                              }
                              if (newPassword == "") {
                                  alert("Please you fill new password ");
                                  return false;
                              }
                              if (comfirmPassword == "") {
                                  alert("Please you fill confirm password");
                                  return false;
                              }
                              if (newPassword.length < 4 || newPassword.length > 16) {
                                  alert("Please you fill new password 4-16 characters ");
                                  return false;
                              }
                              if (comfirmPassword.length < 4 || comfirmPassword.length > 16) {
                                  alert("Please you fill Confirm password 4-16 characters ");
                                  return false;
                              }
                              if (newPassword != comfirmPassword) {
                                  alert("New Password and confirm password are not match");
                                  return false;
                              }
                          }
                          else {
                              return false
                          }
                      }
                  </script>
                  <!-- chech format password information end-->
              </div>
            </div>

          </div><!-- COL-MD-12 -->
        </div><!-- ROW -->
      </div><!-- CONTAINER -->

      <!-- ///////////////////////////////////////////////////////////////////////////////////////// -->
      </div><!-- CONTENT -->
    <div class="push"></div>
  </div> <!-- WRAPPER -->
    
      @{
          //---------------------------------------------------------------------------------------

        if (TempData["msg"] != null)
        {
            var message = TempData["msg"].ToString();

            <script>
                var msg = '@message';
                alert(msg);
            </script>
            TempData["msg"] = null;
        }
      }
  </body>
</html>

    <script type="text/javascript" src="~/Content/jquery-ui/jquery-ui.js"></script>
    <script type="text/javascript" src="~/Content/bootstrap/js/bootstrap.min.js"></script>
    }
    else
    {
        <script>
            alert("Please login by Administrator");
        </script>
        @Html.Action("Index");
    }
}